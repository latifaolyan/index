<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±ÙŠØªÙ… - Rhythm</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef } = React;

        function RhythmApp() {
          const [currentStep, setCurrentStep] = useState('onboarding');
          const [userProfile, setUserProfile] = useState({name: '', healthData: {}});
          const [dailyPhoto, setDailyPhoto] = useState(null);
          const [photoAnalysis, setPhotoAnalysis] = useState(null);
          const [points, setPoints] = useState(0);
          const [streak, setStreak] = useState(0);
          const [habitsDone, setHabitsDone] = useState({});
          const [selectedLocation, setSelectedLocation] = useState('Ø§Ù„Ù…Ù†Ø²Ù„');
          const dailyPhotoRef = useRef(null);

          const habits = [
            { id: 1, name: 'Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡', points: 15, icon: 'ğŸ’§', type: 'positive' },
            { id: 2, name: 'Ø§Ù„Ù…Ø´ÙŠ', points: 20, icon: 'ğŸš¶', type: 'positive' },
            { id: 3, name: 'Ø§Ù„ØªØ¯Ø®ÙŠÙ†', points: 25, icon: 'ğŸš¬', type: 'negative' },
            { id: 4, name: 'Ø§Ù„Ø£ÙƒÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹', points: 20, icon: 'ğŸ”', type: 'negative' }
          ];

          const OnboardingScreen = () => {
            const [step, setStep] = useState(1);
            const [name, setName] = useState('');
            const [healthData, setHealthData] = useState({height: '', weight: '', age: ''});

            const completeOnboarding = () => {
              setUserProfile({ name, healthData });
              setCurrentStep('dashboard');
            };

            if (step === 1) {
              return (
                <div style={{minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #581c87, #0f172a)', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '24px'}}>
                  <div style={{maxWidth: '448px', width: '100%', background: 'rgba(30, 41, 59, 0.5)', backdropFilter: 'blur(16px)', border: '1px solid rgba(168, 85, 247, 0.3)', borderRadius: '24px', padding: '32px'}}>
                    <div style={{textAlign: 'center', marginBottom: '32px'}}>
                      <div style={{background: 'linear-gradient(to right, #a855f7, #ec4899)', width: '80px', height: '80px', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '0 auto 16px', fontSize: '40px'}}>âœ¨</div>
                      <h1 style={{fontSize: '36px', fontWeight: 'bold', background: 'linear-gradient(to right, #c084fc, #f9a8d4)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', marginBottom: '8px'}}>Ø±ÙŠØªÙ…</h1>
                      <p style={{color: '#cbd5e1'}}>Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©</p>
                    </div>
                    <div>
                      <label style={{display: 'block', color: 'white', fontWeight: '600', marginBottom: '8px'}}>Ø§Ø³Ù…Ùƒ</label>
                      <input type="text" value={name} onChange={(e) => setName(e.target.value)} placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ" style={{width: '100%', background: 'rgba(51, 65, 85, 0.5)', border: '1px solid #475569', borderRadius: '12px', padding: '12px 16px', color: 'white', outline: 'none'}} />
                      <button onClick={() => setStep(2)} disabled={!name} style={{width: '100%', background: 'linear-gradient(to right, #a855f7, #ec4899)', padding: '16px', borderRadius: '12px', fontWeight: 'bold', color: 'white', marginTop: '24px', cursor: name ? 'pointer' : 'not-allowed', opacity: name ? 1 : 0.5, border: 'none'}}>Ø§Ù„ØªØ§Ù„ÙŠ</button>
                    </div>
                  </div>
                </div>
              );
            }

            return (
              <div style={{minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #581c87, #0f172a)', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '24px'}}>
                <div style={{maxWidth: '448px', width: '100%', background: 'rgba(30, 41, 59, 0.5)', backdropFilter: 'blur(16px)', border: '1px solid rgba(168, 85, 247, 0.3)', borderRadius: '24px', padding: '32px'}}>
                  <h2 style={{fontSize: '24px', fontWeight: 'bold', color: 'white', marginBottom: '24px', textAlign: 'center'}}>Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©</h2>
                  <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px', marginBottom: '16px'}}>
                    <div>
                      <label style={{display: 'block', color: 'white', fontWeight: '600', fontSize: '14px', marginBottom: '8px'}}>Ø§Ù„Ø·ÙˆÙ„ (Ø³Ù…)</label>
                      <input type="number" value={healthData.height} onChange={(e) => setHealthData({...healthData, height: e.target.value})} placeholder="170" style={{width: '100%', background: 'rgba(51, 65, 85, 0.5)', border: '1px solid #475569', borderRadius: '12px', padding: '12px', color: 'white'}} />
                    </div>
                    <div>
                      <label style={{display: 'block', color: 'white', fontWeight: '600', fontSize: '14px', marginBottom: '8px'}}>Ø§Ù„ÙˆØ²Ù† (ÙƒØ¬Ù…)</label>
                      <input type="number" value={healthData.weight} onChange={(e) => setHealthData({...healthData, weight: e.target.value})} placeholder="70" style={{width: '100%', background: 'rgba(51, 65, 85, 0.5)', border: '1px solid #475569', borderRadius: '12px', padding: '12px', color: 'white'}} />
                    </div>
                  </div>
                  <div style={{marginBottom: '16px'}}>
                    <label style={{display: 'block', color: 'white', fontWeight: '600', fontSize: '14px', marginBottom: '8px'}}>Ø§Ù„Ø¹Ù…Ø±</label>
                    <input type="number" value={healthData.age} onChange={(e) => setHealthData({...healthData, age: e.target.value})} placeholder="25" style={{width: '100%', background: 'rgba(51, 65, 85, 0.5)', border: '1px solid #475569', borderRadius: '12px', padding: '12px', color: 'white'}} />
                  </div>
                  <button onClick={completeOnboarding} disabled={!healthData.height || !healthData.weight || !healthData.age} style={{width: '100%', background: 'linear-gradient(to right, #a855f7, #ec4899)', padding: '16px', borderRadius: '12px', fontWeight: 'bold', color: 'white', cursor: (healthData.height && healthData.weight && healthData.age) ? 'pointer' : 'not-allowed', opacity: (healthData.height && healthData.weight && healthData.age) ? 1 : 0.5, border: 'none'}}>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
                </div>
              </div>
            );
          };

          const DashboardScreen = () => {
            const handlePhotoUpload = (e) => {
              const file = e.target.files[0];
              if (file) {
                const reader = new FileReader();
                reader.onloadend = () => {
                  setDailyPhoto(reader.result);
                  setPoints(prev => prev + 10);
                  setStreak(prev => prev + 1);
                  setTimeout(() => setPhotoAnalysis({skin: 'Ø¬ÙŠØ¯Ø©', eyes: 'Ø¨Ø¯ÙˆÙ† Ù‡Ø§Ù„Ø§Øª', score: 87}), 1000);
                };
                reader.readAsDataURL(file);
              }
            };

            const handleComplete = (id, pts) => {
              if (!habitsDone[id]) {
                setHabitsDone({...habitsDone, [id]: true});
                setPoints(prev => prev + pts);
              }
            };

            return (
              <div style={{minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #581c87, #0f172a)', padding: '24px'}}>
                <div style={{maxWidth: '896px', margin: '0 auto'}}>
                  <div style={{background: 'rgba(30, 41, 59, 0.5)', backdropFilter: 'blur(16px)', border: '1px solid rgba(168, 85, 247, 0.3)', borderRadius: '16px', padding: '20px', marginBottom: '24px'}}>
                    <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                      <div>
                        <h1 style={{fontSize: '24px', fontWeight: 'bold', color: 'white', marginBottom: '8px'}}>{userProfile.name}</h1>
                        <select value={selectedLocation} onChange={(e) => setSelectedLocation(e.target.value)} style={{background: 'transparent', color: 'white', border: 'none', fontSize: '14px'}}>
                          <option style={{background: '#1e293b'}}>Ø§Ù„Ù…Ù†Ø²Ù„</option>
                          <option style={{background: '#1e293b'}}>Ø§Ù„Ø¹Ù…Ù„</option>
                          <option style={{background: '#1e293b'}}>Ø§Ù„Ø¬ÙŠÙ…</option>
                        </select>
                      </div>
                      <div style={{display: 'flex', gap: '8px'}}>
                        <button onClick={() => setCurrentStep('group')} style={{padding: '12px', background: 'rgba(168, 85, 247, 0.2)', border: '1px solid rgba(168, 85, 247, 0.3)', borderRadius: '12px', color: '#a855f7', cursor: 'pointer'}}>ğŸ‘¥</button>
                        <button onClick={() => setCurrentStep('coach')} style={{padding: '12px', background: 'rgba(34, 197, 94, 0.2)', border: '1px solid rgba(34, 197, 94, 0.3)', borderRadius: '12px', color: '#22c55e', cursor: 'pointer', position: 'relative'}}>
                          <span style={{position: 'absolute', top: '-4px', right: '-4px', width: '12px', height: '12px', background: '#22c55e', borderRadius: '50%'}}></span>
                          ğŸ§ 
                        </button>
                      </div>
                    </div>
                  </div>

                  <div style={{display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '16px', marginBottom: '24px'}}>
                    <div style={{background: 'rgba(30, 41, 59, 0.5)', border: '1px solid rgba(249, 115, 22, 0.3)', borderRadius: '16px', padding: '16px'}}>
                      <div style={{fontSize: '24px', marginBottom: '8px'}}>âš¡</div>
                      <p style={{fontSize: '24px', fontWeight: 'bold', color: 'white'}}>{streak}</p>
                      <p style={{fontSize: '12px', color: '#94a3b8'}}>ÙŠÙˆÙ… Ù…ØªÙˆØ§ØµÙ„</p>
                    </div>
                    <div style={{background: 'rgba(30, 41, 59, 0.5)', border: '1px solid rgba(168, 85, 247, 0.3)', borderRadius: '16px', padding: '16px'}}>
                      <div style={{fontSize: '24px', marginBottom: '8px'}}>ğŸ†</div>
                      <p style={{fontSize: '24px', fontWeight: 'bold', color: 'white'}}>{points}</p>
                      <p style={{fontSize: '12px', color: '#94a3b8'}}>Ù†Ù‚Ø·Ø©</p>
                    </div>
                    <div style={{background: 'rgba(30, 41, 59, 0.5)', border: '1px solid rgba(34, 197, 94, 0.3)', borderRadius: '16px', padding: '16px'}}>
                      <div style={{fontSize: '24px', marginBottom: '8px'}}>ğŸ“Š</div>
                      <p style={{fontSize: '24px', fontWeight: 'bold', color: 'white'}}>67%</p>
                      <p style={{fontSize: '12px', color: '#94a3b8'}}>Ø¬Ù‡Ø¯Ùƒ</p>
                    </div>
                  </div>

                  <h3 style={{fontSize: '20px', fontWeight: 'bold', color: 'white', marginBottom: '16px'}}>ğŸ¯ Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…</h3>
                  {habits.map(habit => (
                    <div key={habit.id} style={{background: habitsDone[habit.id] ? 'rgba(34, 197, 94, 0.1)' : 'rgba(30, 41, 59, 0.5)', border: habitsDone[habit.id] ? '1px solid rgba(34, 197, 94, 0.5)' : '1px solid #334155', borderRadius: '16px', padding: '20px', marginBottom: '12px', display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                      <div style={{display: 'flex', gap: '16px', alignItems: 'center'}}>
                        <div style={{fontSize: '40px'}}>{habit.icon}</div>
                        <div>
                          <h4 style={{fontWeight: 'bold', color: 'white', fontSize: '18px'}}>{habit.name}</h4>
                          <p style={{color: '#94a3b8', fontSize: '14px'}}>{habit.type === 'positive' ? 'Ø¹Ø§Ø¯Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©' : 'ØªØ¬Ù†Ø¨'}</p>
                        </div>
                      </div>
                      <div style={{textAlign: 'right'}}>
                        <p style={{color: '#a855f7', fontWeight: 'bold', marginBottom: '8px'}}>+{habit.points}</p>
                        <button onClick={() => handleComplete(habit.id, habit.points)} disabled={habitsDone[habit.id]} style={{padding: '8px 16px', background: habitsDone[habit.id] ? '#22c55e' : 'linear-gradient(to right, #a855f7, #ec4899)', borderRadius: '8px', color: 'white', fontWeight: '600', fontSize: '14px', border: 'none', cursor: habitsDone[habit.id] ? 'not-allowed' : 'pointer'}}>{habitsDone[habit.id] ? 'âœ“ ØªÙ…' : 'ØªÙ…'}</button>
                      </div>
                    </div>
                  ))}

                  <div style={{background: 'linear-gradient(to right, rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2))', border: '1px solid rgba(168, 85, 247, 0.3)', borderRadius: '16px', padding: '24px', marginTop: '24px'}}>
                    <h3 style={{fontSize: '20px', fontWeight: 'bold', color: 'white', marginBottom: '16px'}}>ğŸ“¸ ØµÙˆØ±Ø© Ø§Ù„ÙŠÙˆÙ… <span style={{fontSize: '12px', background: 'rgba(34, 197, 94, 0.2)', color: '#22c55e', padding: '4px 8px', borderRadius: '9999px', marginLeft: '8px'}}>AI</span></h3>
                    <input type="file" ref={dailyPhotoRef} onChange={handlePhotoUpload} accept="image/*" style={{display: 'none'}} />
                    <button onClick={() => dailyPhotoRef.current?.click()} style={{width: '100%', height: '160px', background: 'rgba(51, 65, 85, 0.5)', border: '2px dashed rgba(168, 85, 247, 0.5)', borderRadius: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', marginBottom: '16px'}}>
                      {dailyPhoto ? <img src={dailyPhoto} alt="Daily" style={{width: '100%', height: '100%', objectFit: 'cover', borderRadius: '12px'}} /> : <div style={{textAlign: 'center', color: '#cbd5e1'}}><div style={{fontSize: '40px', marginBottom: '8px'}}>ğŸ“·</div><span style={{fontWeight: '600'}}>Ø§Ù„ØªÙ‚Ø· ØµÙˆØ±ØªÙƒ</span></div>}
                    </button>
                    {photoAnalysis && (
                      <div style={{background: 'rgba(30, 41, 59, 0.5)', borderRadius: '12px', padding: '16px'}}>
                        <h4 style={{fontWeight: 'bold', color: 'white', marginBottom: '12px', display: 'flex', alignItems: 'center', gap: '8px'}}><span>âœ¨</span>Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„</h4>
                        <div style={{fontSize: '14px'}}>
                          <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '8px'}}><span style={{color: '#94a3b8'}}>Ø§Ù„Ø¨Ø´Ø±Ø©:</span><span style={{color: '#22c55e'}}>{photoAnalysis.skin}</span></div>
                          <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '8px'}}><span style={{color: '#94a3b8'}}>Ø§Ù„Ø¹ÙŠÙˆÙ†:</span><span style={{color: '#22c55e'}}>{photoAnalysis.eyes}</span></div>
                          <div style={{display: 'flex', justifyContent: 'space-between', paddingTop: '12px', borderTop: '1px solid #334155'}}><span style={{color: 'white', fontWeight: 'bold'}}>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</span><span style={{fontSize: '24px', fontWeight: 'bold', color: '#22c55e'}}>{photoAnalysis.score}%</span></div>
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            );
          };

          const GroupScreen = () => {
            const members = [{id:1,pts:312,eff:89},{id:2,pts:245,eff:78},{id:3,pts:points,eff:67,me:true},{id:4,pts:198,eff:65},{id:5,pts:156,eff:54}];
            return (
              <div style={{minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #581c87, #0f172a)', padding: '24px'}}>
                <div style={{maxWidth: '896px', margin: '0 auto'}}>
                  <button onClick={() => setCurrentStep('dashboard')} style={{marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '8px', color: '#cbd5e1', background: 'none', border: 'none', cursor: 'pointer', fontSize: '16px'}}>â† Ø±Ø¬ÙˆØ¹</button>
                  <h2 style={{fontSize: '32px', fontWeight: 'bold', color: 'white', textAlign: 'center', marginBottom: '32px'}}>Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†</h2>
                  {members.sort((a,b)=>b.pts-a.pts).map((m,i)=>(
                    <div key={m.id} style={{background: m.me ? 'rgba(6, 182, 212, 0.1)' : 'rgba(30, 41, 59, 0.5)', border: m.me ? '1px solid #06b6d4' : '1px solid #334155', borderRadius: '16px', padding: '20px', marginBottom: '12px', display: 'flex', justifyContent: 'space-between'}}>
                      <div style={{display: 'flex', gap: '16px', alignItems: 'center'}}>
                        <div style={{position: 'relative', fontSize: '36px'}}>ğŸ‘¤{i===0&&<span style={{position: 'absolute', top: '-8px', right: '-8px', fontSize: '24px'}}>ğŸ‘‘</span>}</div>
                        <div><h3 style={{fontWeight: 'bold', color: 'white', fontSize: '18px'}}>{m.me?'Ø£Ù†Øª':`Ø¹Ø¶Ùˆ ${m.id}`}</h3><p style={{color: '#94a3b8', fontSize: '14px'}}>Ø¬Ù‡Ø¯: {m.eff}%</p></div>
                      </div>
                      <div style={{textAlign: 'right'}}><p style={{color: '#fbbf24', fontWeight: 'bold', fontSize: '20px'}}>{m.pts}</p><p style={{color: '#64748b', fontSize: '14px'}}>Ù†Ù‚Ø·Ø©</p></div>
                    </div>
                  ))}
                </div>
              </div>
            );
          };

          const CoachScreen = () => (
            <div style={{minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #065f46, #0f172a)', padding: '24px'}}>
              <div style={{maxWidth: '896px', margin: '0 auto'}}>
                <button onClick={() => setCurrentStep('dashboard')} style={{marginBottom: '24px', display: 'flex', alignItems: 'center', gap: '8px', color: '#cbd5e1', background: 'none', border: 'none', cursor: 'pointer', fontSize: '16px'}}>â† Ø±Ø¬ÙˆØ¹</button>
                <div style={{background: 'rgba(30, 41, 59, 0.5)', border: '1px solid rgba(34, 197, 94, 0.3)', borderRadius: '24px', padding: '24px'}}>
                  <div style={{display: 'flex', gap: '16px'}}>
                    <div style={{background: '#22c55e', width: '64px', height: '64px', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '32px', flexShrink: 0}}>ğŸ§ </div>
                    <div>
                      <h3 style={{fontSize: '20px', fontWeight: 'bold', color: 'white', marginBottom: '8px'}}>ğŸ’¬ ÙƒÙˆØªØ´Ùƒ Ø§Ù„Ø°ÙƒÙŠ <span style={{fontSize: '12px', background: 'rgba(34, 197, 94, 0.2)', color: '#22c55e', padding: '4px 8px', borderRadius: '9999px', marginLeft: '8px'}}>AI</span></h3>
                      <p style={{color: '#cbd5e1', lineHeight: '1.7'}}>ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ± {userProfile.name}! Ø§Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù…Ø³ØªÙˆÙ‰. Ø±ÙƒØ² Ø§Ù„ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„Ù…Ø´ÙŠ. ØªØ°ÙƒØ±: Ø§Ù„ØªØ¯Ø®ÙŠÙ† ÙˆØ§Ù„Ø£ÙƒÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ Ù…Ø±ØªØ¨Ø·Ø§Ù† - ØªØ¬Ù†Ø¨ Ø£Ø­Ø¯Ù‡Ù…Ø§ ÙŠØ³Ø§Ø¹Ø¯ ÙÙŠ Ø§Ù„Ø¢Ø®Ø±.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );

          if (currentStep === 'onboarding') return <OnboardingScreen />;
          if (currentStep === 'group') return <GroupScreen />;
          if (currentStep === 'coach') return <CoachScreen />;
          return <DashboardScreen />;
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<RhythmApp />);
    </script>
</body>
</html>
